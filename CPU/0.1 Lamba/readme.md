## 1 åŸºæœ¬è¯­æ³•

1. **[æ•è·åˆ—è¡¨] (å‚æ•°åˆ—è¡¨) -> è¿”å›ç±»å‹{å‡½æ•°ä½“}**
    
    **ä¾‹å¦‚ï¼š**`auto Add = [](int a, int b) -> int {return a + b;};` 
    
    <aside>
    ğŸ‘‰ğŸ»
    
    ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨æ¨æ–­å‡º**è¿”å›ç±»å‹**ï¼Œæ‰€ä»¥å¯ä»¥ä¸æŒ‡å®šã€‚
    
    </aside>
    
2. **å¯ä»¥ç®€åŒ–ä¸ºï¼š [æ•è·åˆ—è¡¨] (å‚æ•°åˆ—è¡¨) {å‡½æ•°ä½“}**
    
    **ä¾‹å¦‚ï¼š**`auto Add = [](int a, int b) {return a + b;};`   
    
    <aside>
    âš ï¸
    
    åœ¨C++11ä¹‹åï¼Œå¦‚æœLambaè¡¨è¾¾å¼çš„å‡½æ•°ä½“å†…æœ‰å¤šä¸ªreturnè¯­å¥ä¸”è¿”å›ç±»å‹ä¸ä¸€è‡´ï¼Œç¼–è¯‘å™¨æ— æ³•è‡ªåŠ¨æ¨æ–­çš„æ—¶å€™ï¼Œæ­¤æ—¶å¿…é¡»æ˜¾å¼çš„æŒ‡å®šè¿”å›ç±»å‹ã€‚
    
    </aside>
    
    **èŒƒä¾‹1 ï¼š**
    
    ```cpp
    // ç”±äºå‡½æ•°ä½“å†…æœ‰å¤šä¸ª return è¯­å¥ï¼Œç¼–è¯‘å™¨æ— æ³•è‡ªåŠ¨æ¨æ–­å‡ºè¿”å›ç±»å‹ï¼Œ
    // å› æ­¤æˆ‘ä»¬ä½¿ç”¨ -> string æ˜ç¡®æŒ‡å®šäº†è¿”å›ç±»å‹ã€‚
    #include <iostream>
    #include <string>
    using namespace std;
    
    int main() {
        auto example = [](int x) -> string {
            if (x > 0) return "Positive";
            else if (x == 0) return "Negative";
            else return "None";
        };
    
        cout << example(5) << endl;
        cout << example(0) << endl;
        cout << example(-15) << endl;
    
        return 0;
    }
    ```
    
    **èŒƒä¾‹2ï¼š**
    
    å½“å‡ºç°è¿”å›çš„ç±»å‹æœ‰å¤šç§æƒ…å†µçš„æ—¶å€™ï¼š
    
    ```cpp
    #include <iostream>
    #include <variant>
    #include <string>
    using namespace std;
    
    int main() {
        auto example = [](int x) -> variant<int, string> {
            if (x > 0) return x;
            else return "None";
        };
    
        auto result1 = example(5);
        auto result2 = example(-5);
    
        if (holds_alternative<int>(result1)) {
            cout << "Result1: " << get<int>(result1) << endl;
        } else {
            cout << "Result1: " << get<string>(result1) << endl;
        }
    
        if (holds_alternative<int>(result2)) {
            cout << "Result2: " << get<int>(result2) << endl;
        } else {
            cout << "Result2: " << get<string>(result2) << endl;
        }
    
        return 0;
    }
    ```
    
    è¿™é‡Œä½¿ç”¨äº†bool holds_alternativeæ¥åˆ¤æ–­è¿”å›çš„ç±»å‹æ˜¯ä»€ä¹ˆã€‚ç”±äº Lambda è¡¨è¾¾å¼æœ‰å¤šä¸ª `return` è¯­å¥ä¸”è¿”å›ç±»å‹ä¸åŒï¼Œæˆ‘ä»¬å¿…é¡»æ˜¾å¼æŒ‡å®šè¿”å›ç±»å‹ä¸º `variant<int, string>`ã€‚
    
3. **è¿˜å¯ä»¥è¿›ä¸€æ­¥ç®€åŒ–ä¸ºï¼š[æ•è·åˆ—è¡¨] {å‡½æ•°ä½“}**
    
    å¯ä»¥è¿›ä¸€æ­¥å¿½ç•¥å‚æ•°åˆ—è¡¨å’Œè¿”å›ç±»å‹ï¼Œåªä¿ç•™æ•è·åˆ—è¡¨å’Œå‡½æ•°ä½“ï¼š
    
    `auto f = []{ return 1 + 2; };` 
    

## 2 æ•è·åˆ—è¡¨

å½“è¡¨è¾¾å¼éœ€è¦ä½¿ç”¨å¤–éƒ¨å˜é‡çš„æ—¶å€™ï¼Œç”¨æ•è·åˆ—è¡¨æ¥ä¼ å‚æ•°ï¼Œå¦‚ï¼š

```cpp
void test3()
{
    int c = 12;
    int d = 30;
    auto Add = [c, d](int a, int b)->int { //æ•è·åˆ—è¡¨åŠ å…¥ä½¿ç”¨çš„å¤–éƒ¨å˜é‡cï¼Œå¦åˆ™æ— æ³•é€šè¿‡ç¼–è¯‘
        cout << "d = " << d  << endl;      //è¿™é‡Œçš„cå’Œdéƒ½æ˜¯æ•è·çš„å€¼ï¼Œä¸æ˜¯å¼•ç”¨ï¼Œå‡å¦‚c = aä¼šæŠ¥é”™
        return c;
    };
    d = 20;
    std::cout << Add(1, 2) << std::endl;
}
```

è¿™é‡Œçš„[c, d]å†…æœ‰å¤šç§ç¬¦å·è¡¨ç¤ºï¼š

- å¦‚æœæ•è·åˆ—è¡¨ä¸º`[&]`ï¼Œåˆ™è¡¨ç¤ºæ‰€æœ‰çš„å¤–éƒ¨å˜é‡éƒ½æŒ‰å¼•ç”¨ä¼ é€’ç»™lambdaä½¿ç”¨ï¼›
- å¦‚æœæ•è·åˆ—è¡¨ä¸º`[=]`ï¼Œåˆ™è¡¨ç¤ºæ‰€æœ‰çš„å¤–éƒ¨å˜é‡éƒ½æŒ‰å€¼ä¼ é€’ç»™lambdaä½¿ç”¨ï¼›**è¿™é‡Œçš„cå’Œdå°±æ˜¯å€¼ï¼Œå¯¹äºæŒ‰å€¼ä¼ é€’çš„æ•è·åˆ—è¡¨ï¼Œä¼šç«‹å³å°†å½“å‰å–åˆ°çš„å€¼æ‹·è´ä¸€ä»½ä½œä¸ºå¸¸æ•°ï¼Œç„¶åå°†è¯¥å¸¸æ•°ä½œä¸ºå‚æ•°ä¼ é€’ã€‚**
- `[this]` ï¼Œæ•è·å½“å‰ç±»ä¸­çš„thisæŒ‡é’ˆï¼Œè®©lambdaè¡¨è¾¾å¼æ‹¥æœ‰å’Œå½“å‰ç±»æˆå‘˜å‡½æ•°åŒæ ·çš„è®¿é—®æƒé™ï¼Œå¦‚æœå·²ç»ä½¿ç”¨äº† `&`æˆ–è€… `=`, é»˜è®¤æ·»åŠ æ­¤é€‰é¡¹ã€‚

```cpp
void test4()
{
    int c = 12;
    int d = 30;
    auto Add = [&c, &d](int a, int b)->int { //æ•è·åˆ—è¡¨åŠ å…¥ä½¿ç”¨çš„å¤–éƒ¨å˜é‡cï¼Œå¦åˆ™æ— æ³•é€šè¿‡ç¼–è¯‘
        c = a; // ç¼–è¯‘å¯¹çš„
        cout << "d = " << d  << endl;
        return c;
    };
    d = 20;
    std::cout << Add(1, 2) << std::endl;
}
```

## 3 lamdaè¡¨è¾¾å¼çš„æœ¬è´¨

å¦‚æœå¸Œæœ›å»ä¿®æ”¹æŒ‰å€¼æ•è·çš„å¤–éƒ¨å˜é‡ï¼Œé‚£ä¹ˆåº”è¯¥å¦‚ä½•å¤„ç†å‘¢ï¼Ÿè¿™å°±éœ€è¦ä½¿ç”¨mutableé€‰é¡¹ï¼Œ**mutableä¿®æ”¹æ˜¯lambdaè¡¨è¾¾å¼å°±ç®—æ²¡æœ‰å‚æ•°ä¹Ÿè¦å†™æ˜å‚æ•°åˆ—è¡¨ï¼Œå¹¶ä¸”å¯ä»¥å»æ‰æŒ‰å€¼æ•è·çš„å¤–éƒ¨å˜é‡çš„åªè¯»ï¼ˆconstï¼‰å±æ€§ã€‚**
```cpp
int a = 0;
auto f1 = [=] {return a++; };              // error, æŒ‰å€¼æ•è·å¤–éƒ¨å˜é‡, aæ˜¯åªè¯»çš„
auto f2 = [=]()mutable {return a++; };     // ok 
```